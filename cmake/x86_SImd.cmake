if(CMAKE_SYSTEM_PROCESSOR STREQUAL "i686")
	set(COMMON_CXX_FLAGS "${COMMON_CXX_FLAGS} -m32")
elseif(CMAKE_SYSTEM_PROCESSOR STREQUAL "x86_64")
	set(COMMON_CXX_FLAGS "${COMMON_CXX_FLAGS} -m64")
endif()

if (CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
	set_source_files_properties(${PUBLIC_HEADERS} PROPERTIES COMPILE_FLAGS "${COMMON_CXX_FLAGS} -arch:AVX512")
	set_source_files_properties(${PRIVATE_SOURCES} PROPERTIES COMPILE_FLAGS "${COMMON_CXX_FLAGS} -arch:AVX512")
elseif(CMAKE_CXX_COMPILER_ID STREQUAL "Clang")
	set_source_files_properties(${PUBLIC_HEADERS} PROPERTIES COMPILE_FLAGS "${COMMON_CXX_FLAGS} -march=x86-64-v4")
	set_source_files_properties(${PRIVATE_SOURCES} PROPERTIES COMPILE_FLAGS "${COMMON_CXX_FLAGS} -march=x86-64-v4")
endif()